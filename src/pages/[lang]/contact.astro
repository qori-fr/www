---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';
import { siteConfig } from '../../config';

export function getStaticPaths() {
  return [{ params: { lang: 'fr' } }];
}

const { lang } = Astro.params;
const pages = await getCollection('pages');
const page = pages.find((p) => p.data.path === 'contact' && p.data.lang === lang);
if (!page) return Astro.redirect(lang === 'es' ? '/' : `/${lang}/`);
const { Content } = await page.render();
---

<BaseLayout title={page.data.title} lang={lang!} isHome={false} pageTitle={page.data.title}>
  <section class="section">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <div class="content">
            <Content />
            </p>
            <p>
              <strong>Email&nbsp;:</strong>&nbsp;<span set:html={siteConfig.email}/><br />
              <strong>{lang === 'fr' ? 'Téléphone' : 'Teléfono'}&nbsp;:</strong>&nbsp;<span set:html={siteConfig.phone}/>
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>
